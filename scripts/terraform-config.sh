#!/usr/bin/env bash

mkdir -p ~/.aws

cat > ~/.aws/udagram-kubeconfig << EOL
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EVXdPREU1TXpBek5Wb1hEVE13TURVd05qRTVNekF6TlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBVCnF6MGJLU2JyNkpHV3NTWkwySExUYmg4NlY5ZjZYNU1JZThFdUxXU2piY2lFL3Q1cmcxTkpHb0V4aUl1Nlh6TWMKRFBSRmljYyttQTA5K1loR2sxOWhWcWtSbHpUNUk5dkpsQ3ljVFZSemxvWE1kODZFV20ycEJQN0Rhd3lEdFVJVQpweHZCZnpNSG9SUEVZbDliY2hGc3BmcjZGT3ZFRFpNR21JS2pkKy9NQkpoY1ppVjMxNFM5MGI3S1RFd29xNk0zCmFJZGhKNmlyc2l2MTFSTUV0WFpzWDBYSVczZjVBRkdCbWhBa1R5azFSMDYwSGhQQkVDU2FEQVNuaVRHaWtkZUcKbWp5ZGdESGFxVjB5UERFeDEvVUZRdVlZV3ROYzNWWUpWY25scXVoY1Y4dlJhQjJMaEZsSlBIVHdLd1RjaVVPOQpjZGhwZDIzNlQxZ2REc1JTOVRVQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJcEZPZGJxazc2eU94NDdKYzdaeEhjRzJFMkEKckhUQzUyV2dUQlpGMzE3ZlhxTGFwWU90VWoyUWREYlRCTlhPc2hFSGZURXB1cnJ1MUlyVktGd3BNeGN1Nk90dApKOHB4ZWlpUlZqQXhGK080VDYxOXVVQUpOTlcvSjlJKzdmbjZHSE1PeE1QbGw4eXU2Z1ltVVlrN244VGptOHVZCmtIK3dnMzZENUp6S3JsVWN3ODJDUnRnRXlPWFdqMEpNYW9JV1NLa0M0ejFlakt3YXExTFFQZEN0NVcva1Rub04KSHlGc2JJOEQwVkF1ME9kcDA1YU1VWG8yUzdDdWxBeUxVM2xvK3NFYXJoVXlsajJUcGhPcXIzeGYwN0V2aTg3ZQpXRnVxSVlNTU9WZWdoWkM2RzZyZnY3VGtNclc2Zmx2UUZzUVdGTnAreU9nYzdRY0lHZ1B1L21tTzRlbz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://udagram-api-lb-936310460.eu-west-3.elb.amazonaws.com:6443
  name: udagram
contexts:
- context:
    cluster: udagram
    user: kubernetes-admin
  name: kubernetes-admin@udagram
current-context: kubernetes-admin@udagram
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJSTI2UW52K0tSUmt3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TURBMU1EZ3hPVE13TXpWYUZ3MHlNVEExTURneE9UTXhNVE5hTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTFWUkRFSDRMTHFpTkFHVmIKQnMrdmZRYXhKYWdhaklBakxXMm9YL2tURHJYWWZJVmtMTkNGVVlwZmdOck1wYll1TXJzUnVZeUZlaStpc2ZZTQovWm1pdkdDS2lQMmY2T0RUNFNaWEpZbkc1WmdwbEVPSGV1dWxXVDY2Uk83MXpxNmR5ZFN3ZE1yZlVreDdoMlI3CmIxQm9Jays3QlVtTGxVZlY4dW9jVHVURDRVT09HZEorNWU1N2U2MnRCSXhlMkx6aWx3czFJdk41cXhkcHk3akgKV2dEenUxSml2SEp5ajVLbWJ5eGxwWXFKb0FNVmZFcEM4Tmk0STlMaUw1WHArSFh2dHhCb0xmTDFtVlAzeld0TgpxdTNaeUJndTE1YS9uNGgvYkN5VjF3bjl2dXNtZktSdmc3aTcvRnhSZ3N3U2xjV2N1R3RaMnhPWGw4VHpXeGwyCjBZQVl5UUlEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFIeC9YK2JBMGtDMy9ZYU51WmRtSFhtZGRFOWQzYkdHb21vNwpyN1MvWEx0R0ozR0Y2MFJKNTR3ZkY1ek8vVGZkYUNVUGd3ZDB1V1FyODg0enlpU3Q1WVpteEVxbnNNa1J2cWJmCnRpbmFOZW90VndBczNtc3ZoeU1jd05MSHRqZ0gvWkxtcityc2p4MHBXUlRrYUoxQnhVcUtvWlM0ZTgvTUYrVk8KclpaT0RiNGo4bXRSQ0RjNzZiTHlza3pvY1c2U1MzYkM2U0QvZlNkR29JTkJIMVVMeGFNNHhxdjlUVUovOWk5dgpNVS9Ya3FnUHhUdTJZOFZYVk5obitjQ2gvWGVHb3B2NTJSeGtuVDBPTjVTdFhoNk9EN3BoWWk0OEplVWxXWTNpCjV2a1RqbSsydGIvenUzTFZtR1hxZUM2N3NrN3k1N3hZbmxwcENucXZ5Uk9MUWkwTVpKND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBMVZSREVINExMcWlOQUdWYkJzK3ZmUWF4SmFnYWpJQWpMVzJvWC9rVERyWFlmSVZrCkxOQ0ZVWXBmZ05yTXBiWXVNcnNSdVl5RmVpK2lzZllNL1ptaXZHQ0tpUDJmNk9EVDRTWlhKWW5HNVpncGxFT0gKZXV1bFdUNjZSTzcxenE2ZHlkU3dkTXJmVWt4N2gyUjdiMUJvSWsrN0JVbUxsVWZWOHVvY1R1VEQ0VU9PR2RKKwo1ZTU3ZTYydEJJeGUyTHppbHdzMUl2TjVxeGRweTdqSFdnRHp1MUppdkhKeWo1S21ieXhscFlxSm9BTVZmRXBDCjhOaTRJOUxpTDVYcCtIWHZ0eEJvTGZMMW1WUDN6V3ROcXUzWnlCZ3UxNWEvbjRoL2JDeVYxd245dnVzbWZLUnYKZzdpNy9GeFJnc3dTbGNXY3VHdFoyeE9YbDhUeld4bDIwWUFZeVFJREFRQUJBb0lCQUFpTjdIS0kyMkh2bUZmZgp1SnE1VVV3dUxJUmFEVlo4L093aGJaTUxwZHY5SnNVM2hDRFg2OEN0VDg4Vzl3WGVIRlFrZEQyQWlRbXhSMURqCmtQbktZMkF5YnR1M2IrWWl2ZHhWY1VFc0dUR3p2RmNacmlFYnVmR3VOa0gxWXgzNm1wRXhXaklVd0lmSVVWdkkKaDdxYSt0SUZhSFo1MElNWDhsaGZVdXRHK1NQYlF0NmxtUEZMSWw1SGxGZnJiTnRSR3FGREpmYlJjcmZvaCtuRwpFT0k3cFY5eXh0bVNaY3puemUzNXZSMWpHZ2ZsVjZjUHN1WExvVWxhRnFTSWVGdXlheXhkTVdLQlo3MmNLUWxkClR4OTJjSENnTFBYRlR0czdSVHJMYlRiRkVlazNHTkFocy80d3FUcXJaRmhjaE95YVVmTlpzOU41TzE3QlcrK20KY3BRUHhFRUNnWUVBM1lvMWtKd04wYUxkYTBsbHQ4TXQ2QWN5emkvTFBBaHcrSzV6Qm5kZkRnbkkvYkx2QUVyQgpTZmtGSkxzTWdXUXY4SXZaS1FpSEVpOFJoTy9uMmpFMFVPcjhkRmd6Q25uRHhKSm1oSVJDTVU0d0FVNTBUMVk2Cnpmd2RQN1R6VU5wOFNqT09kNUtiZGJUNTliMEZZNXNJSWt6VC9kTlVQUkdrYksyZHJYQUdJcTBDZ1lFQTlvTVoKUk9ZZXBwZU5Yd0RydldxemFvenh6Z1A0S2dWT0FqcXhiWGlZbFlPTEhub0FNZ3RpQ09jdklwdkREcERVVzNOdApaMDFodHAySTNaUHVSRjFrQlFFSTN6YUFMOHd3RnFNM1pJdlR6VEhEQWJTTjY4QzRCY3BsRHdDKzhCUkRCYW5kCkVVZU5qTjdseERrSFBYdGw4cWpNMGw2SlRnNXUrU0xzOVNxeWJnMENnWUVBckRkK2dGWHZvQ0dkUW9PaUlRSUgKTTdJMDJuZm80MWdraWcwQ3Vlb2Q2SW5PeHZsTU5jdm5DaHdjMVhyYXM5TXdPU3hkdWpvNDFmZmxCSlNDaGVsdQpJK0VvTTBGRkhFV2YyN1Y3SUZTNEtDQUJ6V0l4cEdNQi81S1hJaWtHWkxvVG1KTVBrd0JTL1dPY1ZGMkdUUEg5CmxyeG1wNUNha1lhZmJTUmh5S3VtK1ZrQ2dZQVRldnExT2lZejdnZ0srT3lvTkZWblZ5b0lxTUdrdUhTWXNvQ3cKOFBYRjR2Wk1lMEdtc3NXVmhJZHlDYk1aWkpLVGc0U2l4RGV6a2JGdUtUR01ENEZHNy9UK2hyVU1rZXMrN3JrQwo1aFhmd2szeHhZM3Rrblk0WnUwamlXQ05ZbHlGaHcza1BxNU44cE5mdFU0QUtzODhwT0JDdzV2QUlsM2NyRWpqCmV2Tk14UUtCZ0hRUkpua1RQak9pQnBXb2JPa0tMYVlUR0hjRUJkQlVyVGgxSjYxbms5UGxoUGQ0WjRZWEpFczgKNGJzZlk1SUtDM3c4ekJON0cyNnNjRkRUT2FzT1A5TVBKR3JpN0pIcGNPRkliazFCNFBpOXd5b3JlalVEa0YvTApoMEIveEl3ZGU0bzlVZlU3d2NobXhnVGRyNXBJeThiZ1FvQmx2ajdUU1hhSmwrK2dmdkt4Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
EOL